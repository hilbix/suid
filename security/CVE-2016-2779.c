#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <sys/ioctl.h>

int main()
{
  char *cmd = "id\n";
  int fd;

  fd	= open("/dev/tty", O_RDWR);
  if (fd<0)
    {
      perror("/dev/tty");
      fd	= 0;
    }

  while(*cmd)
    if (ioctl(fd, TIOCSTI, cmd++))
      perror("TIOCSTI");

  return 0;
}

